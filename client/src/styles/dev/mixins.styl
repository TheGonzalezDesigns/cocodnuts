
gradient(color)
	rate = 40%
	background-image linear-gradient(to bottom right, lighten(color, rate), darken(color, rate))


shadowMaker(iterations, blur, color)
	$shadows = '0 0 0 transparent'
	for i in 1..iterations
		$shadows += ', %spx %spx' % (i i) blur color


longShadow(iterations = 10, blur = 0, color = rgba(0, 0, 0, .5))
	text-shadow unquote(shadowMaker(iterations, blur, color))


shade()
	longShadow(color: rgba(#333, 0.08), iterations: 9, blur: 4px)


random(min,max)
	return floor(math(0, 'random')*(max - min + 1) + min)

highlight()
	r = random(0, 255)
	g = random(0, 255)
	b = random(0, 255)
	color = rgba(r, g, b, 0.25)
	if (dev.highlight)
		background-color color
genLan(src, sets, width)
	taux = width/sets
	minWidth = round(taux)
	source = src + '?size=' + minWidth
	background-image url(source)
	for set in (1..sets)
		minWidth = round(taux * set)
		@media only screen and (orientation: landscape) and (min-width: unit(minWidth, 'px'))
			set += set < sets ? 1 : 0
			minWidth = round(taux * set)
			source = src + '?size=' + minWidth
			background-image url(source)
genPor(src, sets, height)
	taux = height/sets
	minHeight = round(taux)
	source = src + '?size=' + minHeight
	background-image url(source)
	for set in (1..sets)
		minHeight = round(taux * set)
		@media only screen and (orientation: portrait) and (min-height: unit(minHeight, 'px'))
			set += set < sets ? 1.5 : 0
			minHeight = round(taux * set)
			source = src + '?size=' + minHeight
			background-image url(source)
			background-position-x right
srcsets(src, sets, width, height)
	genLan(src, sets, width)
	genPor(src, sets, height)
